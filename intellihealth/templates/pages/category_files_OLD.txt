@login_required
@xframe_options_exempt
def view_category_files(request, serial_no, category):
    # Construct the path to the folder based on the serial number and category
    category_folder_path = os.path.join(settings.MEDIA_ROOT, 'records', str(serial_no), category)
    serial_no = request.user.serial_no
    # Check if the category folder exists
    if not os.path.exists(category_folder_path):
        return HttpResponseNotFound("Category folder not found.")

    # Get a list of files in the category folder
    files = os.listdir(category_folder_path)

    # Render the HTML template with the list of files
    return render(request, 'pages/category_files.html', {'files': files, 'category': category,'serial': serial_no})



<!--{% if file.type == 'prescription' and file.exists %} -->